!function(e){function n(n){for(var t,c,i=n[0],u=n[1],s=n[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(e[t]=u[t]);for(l&&l(n);p.length;)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,n=0;n<o.length;n++){for(var r=o[n],t=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(t=!1)}t&&(o.splice(n--,1),e=c(c.s=r[0]))}return e}var t={},a={0:0},o=[];function c(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=t,c.d=function(e,n,r){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)c.d(r,t,function(n){return e[n]}.bind(null,t));return r},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var s=0;s<i.length;s++)n(i[s]);var l=u;o.push([112,1]),r()}({103:function(e,n,r){var t=r(104),a=r(105);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};t(a,o);e.exports=a.locals||{}},105:function(e,n,r){"use strict";r.r(n);var t=r(76),a=r.n(t)()(!1);a.push([e.i,'*,\r\n*::before,\r\n*::after {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\r\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-overflow-scrolling: touch;\r\n  overflow: hidden;\r\n}\r\n\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\r\n    monospace;\r\n}\r\n\r\n.App {\r\n  height: 100vh;\r\n  display: flex;\r\n}\r\n\r\n.map {\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n\r\n.menu {\r\n  height: 100vh;\r\n  width: 30vw;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #92c8a4;\r\n  border-radius: 0px 20px 20px 0px;\r\n}\r\n\r\n.menu--hidden {\r\n  display: none;\r\n  visibility: hidden;\r\n}\r\n\r\n.import-csv {\r\n  width: 100%;\r\n  align-items: center;\r\n  margin: 20px 0 20px 0;\r\n}\r\n\r\n.options-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  padding-bottom: 30px;\r\n}\r\n\r\n.option {\r\n  width: 95%;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n@media only screen and (max-width: 800px) {\r\n  .menu {\r\n    height: 100vh;\r\n    width: 100vw;\r\n    border-radius: 0;\r\n  }\r\n}\r\n',""]),n.default=a},112:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),o=r(7),c=r(18),i=r(43),u=r(32),s=r.n(u),l=function(e){return{type:"REPORT_ERROR",error:e}};function f(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){s()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var d=[{name:"City",index:0},{name:"State",index:1},{name:"Zip",index:2},{name:"Address",index:3},{name:"Category",index:4}],m=function(e,n){switch(n.type){case"SET_OPTION_INDEX":return n.name!==e.name?e:p(p({},e),{},{index:n.index});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_OPTION_INDEX":return e.map((function(e){return m(e,n)}));default:return e}};function y(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){s()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var g=function(e,n){switch(n.type){case"SET_LOCATION":return e.address!==n.address?e:h(h({},e),{},{lat:n.lat,lon:n.lon});default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_DATA":return n.data;case"SET_LOCATION":return e.map((function(e){return g(e,n)}));default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"ok",error:null},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REPORT_ERROR":return{status:"error",error:n.error};default:return e}},E=Object(i.b)({options:b,data:v,errors:O});var w=r(57),j=r.n(w),x=(r(103),r(21)),P=r.n(x),k=r(164),S=r(157),D=r(160),C=r(165),N=r(77),_=r.n(N);function T(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function A(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?T(Object(r),!0).forEach((function(n){s()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var M=function(e){var n=e.options,r=e.setData,a=e.reportError;return t.createElement("div",{className:"import-csv"},t.createElement(_.a,{onFileLoaded:function(e){if(function(e){return e.length>0&&e.length<=20&&e.every((function(e){return 5===e.length}))}(e)){var t=function(e,n){return e.map((function(e){return n.reduce((function(n,r){return A(A({},n),{},s()({},r.name.toLowerCase(),e[r.index]))}),{})}))}(e,n);r(t)}else a("Incorrect data. Please upload correct file.")}}))},I=r(150),R=r(162),L=r(158),z=r(163),F=function(e){var n=e.options,r=e.optionName,t=e.index,o=e.label,i=a.a.useState(r),u=P()(i,2),s=u[0],l=u[1],f=Object(c.b)();return a.a.createElement("div",{className:"option"},a.a.createElement(I.a,{className:"option"},a.a.createElement(R.a,null,o),a.a.createElement(L.a,{value:s,onChange:function(e){l(e.target.value),f(function(e,n){return{type:"SET_OPTION_INDEX",name:e,index:n}}(e.target.value,t))}},n.map((function(e,n){return a.a.createElement(z.a,{key:n,value:e},e)})))))},U=function(e){var n=e.optionNames;return a.a.createElement("div",{className:"options-list"},n.map((function(e,r){return a.a.createElement(F,{key:r,index:r,label:"Column ".concat(r+1),optionName:e,options:n})})))},G=r(156),B=function(e){var n=e.label,r=e.isDisabled,t=e.handleOnClick;return a.a.createElement(G.a,{variant:"contained",color:"primary",disabled:r,onClick:t},n)},X=function(e){var n=e.isDisabled,r=e.handleOnClick;return a.a.createElement(G.a,{disabled:n,onClick:r},"Back")},H=function(e){var n=e.steps,r=e.hideMenu,t=a.a.useState(0),o=P()(t,2),i=o[0],u=o[1],s=Object(c.c)((function(e){return e.options})),f=Object(c.b)(),p=function(e){return f(function(e){return{type:"SET_DATA",data:e}}(e))},d=function(e){return f(l(e))},m=function(){u((function(e){return e-1}))},b=function(){u((function(e){return e+1}))},y=function(){b(),r()},h=function(e){return!(j()(new Set(e.map((function(e){return e.index})))).length===e.length)};return a.a.createElement(k.a,{activeStep:i,orientation:"vertical",style:{backgroundColor:"transparent"}},n.map((function(e,r){return a.a.createElement(S.a,{key:e},a.a.createElement(D.a,null,e),a.a.createElement(C.a,null,function(e){switch(e){case 0:return a.a.createElement(U,{optionNames:s.map((function(e){return e.name}))});case 1:return a.a.createElement(M,{options:s,setData:p,reportError:d});default:return"Unknown step"}}(r),a.a.createElement(X,{isDisabled:0===i,handleOnClick:m}),a.a.createElement(B,{label:i===n.length-1?"Finish":"Next",isDisabled:0===i&&h(s),handleOnClick:i===n.length-1?y:b})))})))},J=function(){var e=a.a.useState(!0),n=P()(e,2),r=n[0],t=n[1];return a.a.createElement("div",{className:r?"menu":"menu--hidden"},a.a.createElement(H,{steps:["Set Options Order","Upload Your .csv file"],hideMenu:function(){return t(!1)}}))},W=r(38),Z=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"],K=function(e){var n=e.coordinates,r=e.color;return a.a.createElement(W.Marker,{coordinates:n},a.a.createElement("g",{fill:r,stroke:"none",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(-12, -24)"},a.a.createElement("path",{d:"M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"}),a.a.createElement("circle",{cx:"12",cy:"10",r:"3",fill:"#ffffff"})))},Y=function(e){var n=e.markers,r=e.categories,t=function(e,n){return Z[e.indexOf(n)]};return n.map((function(e){var n=e.name,o=e.coordinates,c=e.category;return a.a.createElement(K,{key:n,coordinates:o,color:t(r,c)})}))},q=function(e){var n=e.markers,r=e.categories;return a.a.createElement(W.ComposableMap,{className:"map"},a.a.createElement(W.ZoomableGroup,{zoom:1},a.a.createElement(W.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(e){return e.geographies.map((function(e){return a.a.createElement(W.Geography,{key:e.rsmKey,geography:e,fill:"#EAEAEC",stroke:"#D6D6DA"})}))})),a.a.createElement(Y,{markers:n,categories:r})))},Q=r(66),V=r.n(Q),$=r(81),ee=r.n($);function ne(){return(ne=ee()(V.a.mark((function e(n){var r,t,a,o,c,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.city,t=n.state,a=n.zip,o=n.address,e.next=3,fetch("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?f=json&singleLine=".concat(encodeURI(r,t,a,o),"&outFields=Match_addr,Addr_type"));case 3:return c=e.sent,e.next=6,c.json();case 6:return i=e.sent,e.abrupt("return",{address:o,x:i.candidates[0].location.x,y:i.candidates[0].location.y});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=r(161),te=r(159),ae=function(e){var n=e.message,r=a.a.useState(!0),t=P()(r,2),o=t[0],c=t[1],i=function(e,n){"clickaway"!==n&&c(!1)};return n?a.a.createElement(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:o,autoHideDuration:3e3,onClose:i},a.a.createElement(te.a,{elevation:6,variant:"filled",onClose:i,severity:"error"},n)):null},oe=function(){var e=Object(c.c)((function(e){return{data:e.data,errors:e.errors}})),n=e.data,r=e.errors,t=Object(c.b)(),o=function(){return t(l("Server error. Please try again later."))};return a.a.useEffect((function(){if(n.length>0)try{n.forEach((function(e){return function(e){return ne.apply(this,arguments)}(e).then((function(e){return function(e,n,r){t(function(e,n,r){return{type:"SET_LOCATION",address:e,lat:n,lon:r}}(e,n,r))}(e.address,e.x,e.y)})).catch((function(){o()}))}))}catch(e){o()}}),[n.length]),a.a.createElement("div",{className:"App"},a.a.createElement(J,null),a.a.createElement(ae,{message:r.error}),a.a.createElement(q,{markers:n.map((function(e){return{name:e.address,coordinates:[e.lat,e.lon],category:e.category}})),categories:j()(new Set(n.map((function(e){return e.category}))))}))},ce=Object(i.c)(E);o.render(t.createElement(c.a,{store:ce},t.createElement(oe,null)),document.getElementById("root"))}});